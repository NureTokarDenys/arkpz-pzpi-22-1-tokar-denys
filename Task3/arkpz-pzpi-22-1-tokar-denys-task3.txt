Харківський університет радіоелектроніки
Факультет комп'ютерних наук
Кафедра програмної інженерії




ЗВІТ
до лабораторної роботи з дисципліни
"Аналіз та рефакторинг коду"
на тему: " РОЗРОБКА БІЗНЕС-ЛОГІКИ ТА ФУНКЦІЙ АДМІНІСТРУВАННЯ СЕРВЕРНОЇ ЧАСТИНИ ПРОГРАМНОЇ СИСТЕМИ"





Виконав ст. гр. ПЗПІ-22-1
Токар Денис Юрійович


Перевірив
Сокорчук Ігор Петрович



Харків 2025 р.
1 МЕТА
Розробити бізнес-логіку та функції адміністрування серверної частини програмної системи автономних теплиць.
2 ХІД РОБОТИ
1. Розробка бізнес-логіки серверної частини програмної системи.
Бізнес-логіка системи включає:
•	Прийом даних від датчиків мікроклімату (температура, вологість, освітленість)
•	Збереження даних у базі даних MongoDB.
•	Аналіз параметрів мікроклімату на основі заданих правил.
•	Формування команд керування пристроями теплиці на основі правил.
•	Автоматичне виконання time-based правил.
•	Логування подій у системі.
Загальна діяльність серверної частини представлена на рисунку 1.
 
Рисунок 1 - UML-діаграма діяльності для серверної частини.

Те як система буде взаємодіяти в цілому, представлено на рисунку 2.
 
Рисунок 2 – UML-діаграма взаємодії для серверної частини і IoT клієнта.

2. Розробка функцій адміністрування серверної частини програмної системи.
Функції адміністрування серверної частини містять:
•	Можливість створення користувачів, теплиць, датчиків, правил та журналів.
•	Можливість отримання окремого користувача, теплиці, датчика, правила та журналу.
•	Можливість отримання списку користувачів, теплиць, датчиків, правил та журналів.
•	Можливість зміни користувачів, теплиць, датчиків, правил та журналів.
•	Можливість видалення користувачів, теплиць, датчиків, правил та журналів.
3. Створення програмної реалізації бізнес-логіки та функцій адміністрування серверної частини.

Використовуючи Node.js, фреймворк Express.js та моделі Mongoose, розроблено RESTful API для керування системою. Кожна модель має CRUD-ендпоінти, а також додаткові шляхи для отримання списків сутностей за певними критеріями.
Також реалізовано каскадне видалення, де при видалені сутності також видаляються усі повʼязані з нею сутності. Наприклад, при видалені теплиці, також видаляються усі сенсори, правила, логи та дані датчиків.
Бізнес-логіка також включає:
•	Автоматичну перевірку правил на основі сенсорних даних та часу.
•	Логування всіх важливих дій в системі.
•	Надсилання команд на ESP32 через зворотній запит.
4. Тестування системи
Записуємо змістовне відео з тестуванням бізнес-логіки та функцій адміністрування серверної частини системи, проставляємо таймкоди та завантажуємо на сервіс YouTube. Посилання на відео: https://youtu.be/0LiBmuRZMnM.
 
ВИСНОВКИ
У ході виконання лабораторної роботи було розроблено бізнес-логіку та функції адміністрування серверної частини програмної системи автономних теплиць. Реалізовано прийом даних від ESP32, їх збереження, аналіз на основі заданих правил та відправлення команд на ESP32.
